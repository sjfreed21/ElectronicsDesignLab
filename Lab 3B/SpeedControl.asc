Version 4
SHEET 1 880 680
WIRE -304 16 -304 -32
WIRE -192 16 -304 16
WIRE 0 32 -16 32
WIRE -656 48 -752 48
WIRE -592 48 -656 48
WIRE -576 48 -592 48
WIRE -528 48 -576 48
WIRE -496 48 -528 48
WIRE -192 48 -240 48
WIRE 0 112 0 32
WIRE 384 128 368 128
WIRE 416 128 384 128
WIRE 80 144 80 112
WIRE 96 144 80 144
WIRE 368 144 368 128
WIRE 368 144 320 144
WIRE -240 160 -240 48
WIRE 544 160 528 160
WIRE -656 208 -752 208
WIRE -576 208 -656 208
WIRE -528 208 -576 208
WIRE -496 208 -528 208
WIRE 96 208 80 208
WIRE 368 208 320 208
WIRE 368 224 368 208
WIRE 384 224 368 224
WIRE 416 224 384 224
WIRE 544 224 528 224
WIRE -192 256 -304 256
WIRE 0 272 -16 272
WIRE -240 288 -240 160
WIRE -208 288 -240 288
WIRE -192 288 -208 288
WIRE 0 288 0 272
WIRE 80 288 80 208
WIRE 544 384 544 224
WIRE 544 384 448 384
WIRE -208 400 -208 288
WIRE 256 400 -208 400
FLAG 544 160 omega
IOPIN 544 160 Out
FLAG 208 256 0
FLAG -752 128 0
FLAG -752 288 0
FLAG -304 -96 0
FLAG -496 112 0
FLAG -576 112 0
FLAG -576 272 0
FLAG -496 272 0
FLAG -656 112 0
FLAG -656 272 0
FLAG -112 208 DC10
FLAG -112 -32 DC10
FLAG -48 208 DC5
FLAG -48 -32 DC5
FLAG 256 368 DC5
FLAG -480 496 0
FLAG -480 416 REF
IOPIN -480 416 Out
FLAG 208 96 DC10
FLAG -240 160 Sense
FLAG -592 48 CW
FLAG -192 224 CC
IOPIN -192 224 In
FLAG -528 48 DC5
FLAG -528 208 DC10
FLAG 384 128 DC1
FLAG 384 224 DC2
FLAG -192 -16 DC5
FLAG -304 96 REF
IOPIN -304 96 In
FLAG -304 192 0
FLAG -304 336 REF
IOPIN -304 336 In
SYMBOL MotorDriver 192 160 R0
SYMATTR InstName X1
SYMBOL Misc\\DC_motor_model 464 176 R0
SYMATTR InstName X2
SYMBOL FeedbackControl -112 16 R0
SYMATTR InstName X3
SYMBOL FeedbackControl -112 256 R0
SYMATTR InstName X4
SYMBOL res 96 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL voltage -752 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -752 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL cap -592 48 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL cap -512 208 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap -592 208 R0
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL cap -320 -96 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL polcap -672 48 R0
SYMATTR InstName C6
SYMATTR Value 47µ
SYMBOL polcap -672 208 R0
SYMATTR InstName C7
SYMATTR Value 47µ
SYMBOL Tachometer 352 384 R0
SYMATTR InstName X5
SYMBOL voltage -480 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 0 1n 1n 1m 2m)
SYMBOL cap -512 48 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res 96 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL res -288 112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL cap -320 192 R0
SYMATTR InstName C8
SYMATTR Value 1µ
SYMBOL res -320 240 R0
SYMATTR InstName R4
SYMATTR Value 100k
TEXT 112 464 Left 2 !.tran 10
